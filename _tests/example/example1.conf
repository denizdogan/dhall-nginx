error_log /tmp/error.log warn;
events {
  accept_mutex on;
  multi_accept on;
  worker_connections 1024;
}
http {
  add_header X-Foo Bar always;
  add_trailer X-Baz Qux;
  default_type text/html;
  fastcgi_intercept_errors off;
  if_modified_since exact;
  index index.html index.php;
  log_format mylogger escape=none '$remote_addr - $remote_user [$time_local]';
  log_format jsonlogger escape=json '{"remote_addr":$remote_addr}';
  log_not_found off;
  map $http_host $loggable {
    hostnames;
    foobar barbaz;
    barbaz 3;
  }
  sendfile on;
  server {
    access_log /tmp/bar.log jsonlogger buffer=1024k gzip=9 flush=3h if=$loggable;
    default_type foobar;
    fastcgi_intercept_errors on;
    index other.htm;
    location = / {
      add_header X-Country Sweden always;
      add_trailer X-Continent Europe;
      default_type text/html;
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      fastcgi_param QUERY_STRING $query_string;
      fastcgi_param REQUEST_METHOD $request_method;
      fastcgi_param CONTENT_TYPE $content_type;
      fastcgi_param CONTENT_LENGTH $content_length;
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      fastcgi_param SCRIPT_NAME $fastcgi_script_name;
      fastcgi_param PATH_INFO $fastcgi_path_info;
      fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info;
      fastcgi_param REQUEST_URI $request_uri;
      fastcgi_param DOCUMENT_URI $document_uri;
      fastcgi_param DOCUMENT_ROOT $document_root;
      fastcgi_param SERVER_PROTOCOL $server_protocol;
      fastcgi_param GATEWAY_INTERFACE CGI/1.1;
      fastcgi_param SERVER_SOFTWARE nginx/$nginx_version;
      fastcgi_param REMOTE_ADDR $remote_addr;
      fastcgi_param REMOTE_PORT $remote_port;
      fastcgi_param SERVER_ADDR $server_addr;
      fastcgi_param SERVER_PORT $server_port;
      fastcgi_param SERVER_NAME $server_name;
      fastcgi_param HTTPS $https;
      fastcgi_param REDIRECT_STATUS 200;
      fastcgi_pass unix:/tmp/fastcgi.socket;
      index foobar.html;
      log_not_found on;
      log_subrequest on;
      max_ranges 512;
      try_files foo bar=404;
    }
    location ~* ^/users/(.+\.(?:gif|jpe?g|png))$ {
      default_type foo;
      fastcgi_intercept_errors on;
      log_subrequest on;
      max_ranges 512;
      msie_padding off;
    }
    location @bar {
      default_type bar;
      log_subrequest off;
      msie_padding on;
    }
    log_not_found off;
    root /var/root;
    server_name hello.net there.com;
    tcp_nodelay on;
    try_files index.html test.php/foo;
  }
  types {
    fruits apple banana;
  }
  upstream django {
    server localhost fail_timeout=4m;
  }
}
pcre_jit on;
pid pidfile;
user foo;
worker_cpu_affinity auto 0110;
worker_processes 4;
